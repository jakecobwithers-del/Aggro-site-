<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Aggro PvP — Support</title>

  <style>
    /* font (site root) */
    @font-face{
      font-family:'28DaysLater';
      src: url('28%20Days%20Later.ttf') format('truetype'), url('28DaysLater.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    :root{
      --accent:#ff3c3c;
      --muted:#bdbdbd;
      --overlay:rgba(0,0,0,0.72);
      --card-w:1000px;
    }

    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:#000}
    body{
      font-family:'28DaysLater', system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      color:#fff;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* full-bleed video: put it underneath everything and force cover the viewport */
    #smoke-bg{
      position:fixed;
      top:0;left:0;right:0;bottom:0;
      width:100vw;height:100vh;
      object-fit:cover;
      z-index:-9999; /* far behind to avoid stacking issues */
      pointer-events:none;
      filter:brightness(0.5) contrast(1);
      background:#000 center/cover no-repeat;
    }

    /* tint sits above video but under content */
    .bg-tint{
      position:fixed;inset:0;z-index:-9998;
      background:linear-gradient(180deg, rgba(0,0,0,0.25), rgba(0,0,0,0.7));
      pointer-events:none;
    }

    /* fallback if video cannot play */
    body.no-video{background-image:url('smoke.jpg');background-size:cover;background-position:center}

    .wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:6vh 20px;position:relative;z-index:1}
    .card{width:100%;max-width:var(--card-w);background:var(--overlay);border-radius:12px;padding:36px;box-shadow:0 10px 40px rgba(0,0,0,0.7);border:1px solid rgba(255,60,60,0.06)}
    @media(max-width:880px){.card{padding:22px}}

    h1{margin:0 0 12px 0;font-size:48px;color:var(--accent);text-shadow:0 6px 20px rgba(0,0,0,0.9);line-height:0.95;text-align:center}
    .lead{margin:0 0 18px 0;font-size:16px;color:#fff;opacity:0.98;text-align:center}

    .section{margin-top:16px}
    .section h2{font-size:20px;color:var(--accent);margin:12px 0;border-bottom:1px solid rgba(255,60,60,0.12);padding-bottom:8px}

    .item{display:flex;gap:14px;align-items:flex-start;margin-bottom:14px}
    .item .num{width:44px;text-align:center;color:var(--accent);font-weight:800;font-size:18px}
    .item .text{font-size:15px;line-height:1.45}
    .item .text a{color:#fff;text-decoration:underline;font-weight:800}

    /* owners block (names + short honour text) */
    .owners{display:flex;flex-direction:column;gap:12px;margin-top:8px}
    .owner{display:flex;gap:12px;align-items:center;padding:12px;border-radius:8px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));border:1px solid rgba(255,255,255,0.03)}
    .owner .avatar{width:64px;height:64px;border-radius:10px;background:#222;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:800;font-size:22px;border:1px solid rgba(255,255,255,0.04);background-size:cover;background-position:center}
    .owner .meta{display:flex;flex-direction:column}
    .owner .name{font-weight:900;font-size:16px;color:#fff}
    .owner .blurb{font-size:13px;color:var(--muted);margin-top:4px;max-width:70ch}

    .back-btn{display:inline-block;margin-top:22px;padding:10px 14px;border-radius:8px;background:transparent;border:1px solid rgba(255,255,255,0.06);color:#fff;text-decoration:none;font-weight:700;display:block;width:max-content;margin-left:auto;margin-right:auto}

    @media(max-width:600px){
      h1{font-size:34px}
      .item .text{font-size:14px}
      .owner{padding:10px}
      .owner .avatar{width:56px;height:56px;font-size:18px}
    }
  </style>
</head>
<body>
  <!-- video and tint (relative paths like rules.html) -->
  <video id="smoke-bg" autoplay muted loop playsinline preload="auto" poster="smoke.jpg">
    <source src="smoke.webm" type="video/webm">
    <source src="smoke.mp4" type="video/mp4">
  </video>
  <div class="bg-tint" aria-hidden="true"></div>

  <main class="wrap" role="main">
    <section class="card" aria-labelledby="support-title">
      <h1 id="support-title">SUPPORT</h1>
      <p class="lead">Report bugs, open tickets, or drop suggestions in the Discord channels below — we monitor them regularly.</p>

      <div class="section" aria-labelledby="channels-heading">
        <h2 id="channels-heading">DISCORD CHANNELS</h2>

        <div class="item">
          <div class="num">1</div>
          <div class="text">
            <a href="https://discord.com/channels/1375728051194957874/1385078265236160563" target="_blank" rel="noopener noreferrer">#bug-reports</a>
            — Report game-breaking bugs, exploits, or crashes. Include steps to reproduce and screenshots/logs when available.
          </div>
        </div>

        <div class="item">
          <div class="num">2</div>
          <div class="text">
            <a href="https://discord.com/channels/1375728051194957874/1385079306350493766" target="_blank" rel="noopener noreferrer">#suggestions</a>
            — Post balance ideas, feature requests, or server improvement suggestions for community feedback.
          </div>
        </div>

        <div class="item">
          <div class="num">3</div>
          <div class="text">
            <a href="https://discord.com/channels/1375728051194957874/1385461796437233695" target="_blank" rel="noopener noreferrer">#ticket</a>
            — Open a private support ticket for account help, bans/appeals, or direct admin assistance.
          </div>
        </div>
      </div>

      <div class="section" aria-labelledby="owners-heading">
        <h2 id="owners-heading">SERVER OWNERS</h2>

        <div class="owners">
          <div class="owner">
            <div class="avatar" id="av-572334">R</div>
            <div class="meta">
              <div class="name">RB Skizza</div>
              <div class="blurb">Server founder and lead admin — committed to fair play, regular updates, and keeping the community safe and fun.</div>
            </div>
          </div>

          <div class="owner">
            <div class="avatar" id="av-842365">S</div>
            <div class="meta">
              <div class="name">Slomobob</div>
              <div class="blurb">Head of community and events — designs server events, oversees balance, and handles player support with care.</div>
            </div>
          </div>
        </div>
      </div>

      <a class="back-btn" href="index.html" role="button">← Back to menu</a>
    </section>
  </main>

  <script>
    (function(){
      // same fallback logic as rules.html: try play, on error set no-video so poster/background displays
      const vid = document.getElementById('smoke-bg');
      let played = false;
      vid.addEventListener('playing', ()=> played = true);
      vid.addEventListener('error', ()=> document.body.classList.add('no-video'));
      // attempt play (some browsers require interaction, this is best-effort)
      setTimeout(()=>{ if (!played) vid.play().catch(()=> document.body.classList.add('no-video')); }, 700);

      // load owner avatars best-effort (use embed fallback if exact avatar not available)
      function embedAvatarUrl(id){ return `https://cdn.discordapp.com/embed/avatars/${Number(id) % 5}.png`; }
      async function testHead(url){ try{ const r = await fetch(url, { method:'HEAD', cache:'no-store' }); return r.ok; } catch(e){ return false; } }

      async function applyAvatar(elId, id){
        const el = document.getElementById(elId);
        if (!el) return;
        const candidates = [
          `https://cdn.discordapp.com/avatars/${id}.png`,
          `https://cdn.discordapp.com/avatars/${id}.webp`,
          `https://cdn.discordapp.com/avatars/${id}.jpg`
        ];
        let found = null;
        for (const c of candidates){ if (await testHead(c)){ found = c; break; } }
        const url = found || embedAvatarUrl(id);
        el.style.backgroundImage = `url(${url})`;
        el.textContent = '';
      }

      // apply avatars for owners (ids from your data)
      applyAvatar('av-572334', '572334717731602462').catch(()=>{});
      applyAvatar('av-842365', '842365557486518302').catch(()=>{});

      // diagnostic logging (open console to inspect)
      (async function diag(){
        const files = ['smoke.mp4','smoke.webm','smoke.jpg'];
        for (const f of files){
          try{
            const r = await fetch(f, { method:'HEAD', cache:'no-store' });
            console.log(f, '→', r.status, 'content-type:', r.headers.get('content-type'));
          }catch(e){
            console.log(f, '→ HEAD failed', e && e.message);
          }
        }
      })();
    })();
  </script>
</body>
</html>
