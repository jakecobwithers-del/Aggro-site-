<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Aggro PvP — JOIN THE FIGHT</title>
  <style>
    :root {
      --bg: #050505;
      --red: #ff1a1a;
      --cycle: 4000ms;
      --radius: 12px;
      --z-head: 4500;
      --z-blood: 4700;
      --z-vfx: 4900;
    }

    /* reset */
    *, *::before, *::after { box-sizing: border-box }
    html, body {
      margin:0; padding:0;
      width:100%; height:100%;
      background: var(--bg);
      overflow:hidden;
      font-family:"28Days",sans-serif;
      color:#fff;
    }
    @font-face {
      font-family:"28Days";
      src: url("28%20Days%20Later.ttf") format("truetype");
      font-display: swap;
    }

    /* continuous smoke loop */
    #smoke-wrap {
      position:fixed; inset:0; z-index:1;
      pointer-events:none;
    }
    #smokeVideo {
      width:100%; height:100%;
      object-fit:cover;
      opacity:0.58;
    }

    /* red flash */
    #redOverlay {
      position:fixed; inset:0;
      background:var(--red);
      opacity:0; mix-blend-mode:screen;
      z-index:var(--z-vfx);
      pointer-events:none;
      animation-fill-mode:both;
    }
    @keyframes redFlash {
      0%   { opacity:0 }
      10%  { opacity:0.6 }
      30%  { opacity:0 }
      100% { opacity:0 }
    }

    /* VFX flicker */
    .vfx {
      position:fixed; inset:0; z-index:var(--z-vfx);
      pointer-events:none;
    }
    .vfx .flicker {
      position:absolute; inset:0;
      mix-blend-mode:screen; opacity:0;
    }

    /* headline */
    #headline {
      position:fixed; top:42vh; left:50%;
      transform:translateX(-50%);
      text-align:center; z-index:var(--z-head);
      pointer-events:none;
    }
    .headlineText {
      display:inline-block;
      font-size:clamp(48px,14vw,136px);
      line-height:0.9; letter-spacing:.12em;
      opacity:0; position:relative;
      will-change:transform,opacity;
    }

    /* impact with hold from 20–80% */
    @keyframes impact {
      0%   { opacity:0;   transform:scale(0.8) }
      20%  { opacity:1;   transform:scale(1.1) }
      80%  { opacity:1;   transform:scale(1)   }
      100% { opacity:0;   transform:scale(1)   }
    }
    .headlineText.impact {
      animation: impact calc(var(--cycle)/2) ease-out both;
    }

    /* quick glitch */
    @keyframes glitch {
      0%,100% { clip:rect(0,9999px,0,0) }
      20%     { clip:rect(20px,9999px,40px,0) }
      40%     { clip:rect(50px,9999px,70px,0) }
      60%     { clip:rect(10px,9999px,30px,0) }
      80%     { clip:rect(60px,9999px,80px,0) }
    }
    .headlineText.glitch,
    .headlineText.glitch::before,
    .headlineText.glitch::after {
      animation: glitch 0.6s steps(2) both;
    }
    .headlineText.glitch::before,
    .headlineText.glitch::after {
      content:attr(data-text);
      position:absolute; inset:0;
      mix-blend-mode:screen; opacity:.6;
    }
    .headlineText.glitch::before { color:#ff4b4b; left:2px }
    .headlineText.glitch::after  { color:#7fb7ff; left:-2px }

    /* blood circle – bigger & more transparent */
    #bloodCircle {
      position:absolute; top:50%; left:50%;
      transform:translate(-50%,-50%) scale(0);
      opacity:0; width:clamp(200px,40vw,350px);
      pointer-events:none; z-index:var(--z-blood);
      animation-fill-mode:both;
    }
    @keyframes circleIn {
      0%   { opacity:0;   transform:translate(-50%,-50%) scale(0) }
      30%  { opacity:0.6; transform:translate(-50%,-50%) scale(1) }
      70%  { opacity:0.6; transform:translate(-50%,-50%) scale(1) }
      100% { opacity:0;   transform:translate(-50%,-50%) scale(1.5) }
    }

    /* CTA */
    .cta {
      position:fixed; bottom:8vh; left:50%;
      transform:translateX(-50%);
      display:flex; gap:20px; z-index:5;
    }
    .cta a {
      font-size:22px; padding:10px 26px;
      border-radius:var(--radius);
      background:linear-gradient(180deg,#151515,#070707);
      color:#fff; text-decoration:none;
      transition:transform .2s;
    }
    .cta a:hover { transform:translateY(-3px) }

    @media (max-width:600px){
      #bloodCircle { width:clamp(140px,50vw,220px) }
      .headlineText { font-size:clamp(28px,18vw,76px) }
      .cta a { font-size:18px; padding:8px 18px }
    }
  </style>
</head>
<body>
  <!-- smoke -->
  <div id="smoke-wrap">
    <video id="smokeVideo" muted autoplay loop playsinline preload="auto">
      <source src="Smoke.mp4" type="video/mp4">
    </video>
  </div>

  <!-- red flash -->
  <div id="redOverlay"></div>

  <!-- vfx flicker -->
  <div class="vfx">
    <div class="flicker" id="vfxFlicker"></div>
  </div>

  <!-- headline + blood -->
  <div id="headline">
    <div id="headlineText" class="headlineText" data-text="JOIN THE FIGHT">
      <span class="line">JOIN</span>
      <span class="line">THE</span>
      <span class="line">FIGHT</span>
    </div>
    <img id="bloodCircle" src="blood1.png" alt="Blood circle"/>
  </div>

  <!-- CTA -->
  <div class="cta">
    <a href="steam://connect/YOURSERVERIP">JOIN SERVER</a>
    <a href="https://discord.gg/YOURDISCORD">JOIN COMMUNITY</a>
  </div>

  <script>
  (function(){
    const cycle   = 4000; // loop every 4s
    const text    = document.getElementById('headlineText');
    const circle  = document.getElementById('bloodCircle');
    const red     = document.getElementById('redOverlay');
    const flicker = document.getElementById('vfxFlicker');

    function restart(el, anim, dur){
      el.style.animation = 'none';
      void el.offsetWidth;
      el.style.animation = `${anim} ${dur}ms both`;
    }

    function triggerFlick(){
      flicker.style.opacity = '1';
      setTimeout(()=> flicker.style.opacity = '0', 400);
    }

    function intro(){
      restart(red,      'redFlash',      600);
      restart(text,     'impact',        cycle/2);
      setTimeout(()=> restart(text,'glitch',600), 300);
      triggerFlick();
      restart(circle,   'circleIn',      1000);
    }

    window.addEventListener('DOMContentLoaded', ()=>{
      intro();
      setInterval(intro, cycle);
    });
  })();
  </script>
</body>
</html>
