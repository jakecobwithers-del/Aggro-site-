<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Aggro PvP â€” JOIN THE FIGHT (Clean, White, Sprayed Blood)</title>
<style>
  :root{
    --smoke-opacity:0.56;
    --surge-ms:2200;
    --glitch-ms:420;
    --splat-opacity:0.86; /* slightly see-through splatter */
    --splat-scale:1.12;
  }

  /* Local font (exact filename in repo root: 28 Days Later.ttf) */
  @font-face{
    font-family: "28Days";
    src: url("28%20Days%20Later.ttf?v=1") format("truetype"),
         url("28 Days Later.ttf?v=1") format("truetype");
    font-weight: 400 900;
    font-style: normal;
    font-display: swap;
  }

  html,body{
    height:100%;
    margin:0;
    background:#050505;
    color:#fff;
    font-family:"28Days", Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    -webkit-font-smoothing:antialiased;
    overflow:hidden;
  }

  img{display:block;max-width:100%;height:auto}
  button{background:transparent;border:0;cursor:pointer;color:inherit;font:inherit}

  /* Smoke (background cinematic) */
  #smoke-wrap{position:fixed;inset:0;z-index:2000;pointer-events:none}
  #smokeVideo{width:100%;height:100%;object-fit:cover;opacity:var(--smoke-opacity);filter:blur(1.6px) saturate(1) contrast(1);will-change:transform,filter,opacity}

  /* Center stage (JOIN text on top of smoke) */
  .centerStage{position:fixed;inset:0;z-index:4000;pointer-events:none;display:flex;align-items:center;justify-content:center;padding:5vh 6vw}

  /* Clean white text using 28Days font, spaced letters, no stroke or heavy extras */
  #joinText{
    display:inline-block;
    font-family:"28Days", Inter, sans-serif;
    font-weight:900;
    color:#ffffff;              /* pure white */
    font-size:clamp(30px,10.6vw,110px);
    letter-spacing:0.32em;      /* spaced letters as requested */
    line-height:0.92;
    text-align:center;
    background:transparent;
    padding:0.25em 0.6em;
    opacity:0;
    transform:translateY(18px) scale(.995);
    transition:opacity 220ms ease, transform 260ms cubic-bezier(.2,.9,.3,1);
    pointer-events:none;
    z-index:4010;               /* top of smoke */
    white-space:nowrap;
  }
  #joinText.visible{opacity:1;transform:translateY(0) scale(1);}

  /* Splatter layer sits over the text and sprays pieces onto it */
  .splatLayer{
    position:absolute;
    left:50%;
    top:50%;
    transform:translate(-50%,-50%);
    width:min(86vw,960px);
    height:1em; /* relative height, pieces positioned with top% offsets */
    z-index:4020;
    pointer-events:none;
    overflow:visible;
  }

  /* Each piece uses the same blood images but is slightly transparent and uses multiply so white shows through */
  .splat-piece{
    position:absolute;
    opacity:0;
    transform-origin:center center;
    will-change:transform,opacity,filter;
    mix-blend-mode:multiply;
    filter:brightness(.95) contrast(1.05) saturate(1.05);
    transition:opacity 160ms linear, transform 360ms cubic-bezier(.2,.9,.28,1), filter 240ms;
  }

  /* sensible placements relative to splatLayer (tweak if needed) */
  .sp1{ left:40%; top:-12%; width:220px; transform:translate(-50%,-50%) scale(.7) rotate(-18deg) }
  .sp2{ left:57%; top:-20%; width:240px; transform:translate(-50%,-50%) scale(.66) rotate(8deg) }
  .sp3{ left:50%; top:-36%; width:140px; transform:translate(-50%,-50%) scale(.6) rotate(-6deg) }
  .sp4{ left:66%; top:-6%; width:200px; transform:translate(-50%,-50%) scale(.7) rotate(14deg) }
  .sp5{ left:48%; top:-4%; width:300px; transform:translate(-50%,-50%) scale(.68) rotate(0deg) }

  /* show state: pieces scale up, settle, and become semi-opaque for spray effect */
  .splat-piece.show{
    opacity:var(--splat-opacity);
    transform:translate(-50%,-50%) scale(var(--splat-scale)) rotate(0deg);
    filter:brightness(1.06) contrast(1.12) saturate(1.08);
  }

  /* final unified stain overlay (subtle, slightly transparent) */
  .final-stain{
    position:absolute;
    left:50%;
    top:50%;
    transform:translate(-50%,-50%);
    width:min(86vw,960px);
    z-index:4030;
    pointer-events:none;
    mix-blend-mode:multiply;
    opacity:0;
    transition:opacity 200ms linear;
    filter:brightness(.92) contrast(1.05) saturate(1.05);
  }
  .final-stain.show{opacity:0.86}

  /* Red tint kept subtle and under everything visual to avoid washing the white text */
  .glitch-paint{position:fixed;inset:0;z-index:3900;pointer-events:none;opacity:0;transition:opacity 120ms linear}
  .glitch-paint.show{opacity:1}
  .red-wash{position:absolute;inset:0;background:linear-gradient(180deg, rgba(255,18,18,0.06), rgba(255,18,18,0.02));mix-blend-mode:overlay;filter:blur(6px) saturate(1.02);pointer-events:none}

  /* keep UI accessible and on top */
  #logo{position:fixed;top:6vh;left:50%;transform:translateX(-50%);z-index:5000}
  .widget-bar{position:fixed;left:50%;transform:translateX(-50%);bottom:34px;z-index:5000;display:flex;flex-direction:column;gap:12px;align-items:center}
  .cta{padding:10px 18px;border-radius:10px;color:#fff;text-decoration:none;font-weight:800;background:rgba(0,0,0,0.5)}
  .primary{background:linear-gradient(90deg,#ff4040,#ff1a1a)}.secondary{background:#5865F2}

  /* responsive */
  @media(max-width:720px){
    #joinText{font-size:clamp(20px,12.6vw,64px);letter-spacing:0.28em}
    .sp1{width:160px}
    .sp2{width:180px}
    .sp5{width:220px}
  }
  @media(max-width:420px){
    #joinText{font-size:clamp(18px,14vw,44px);letter-spacing:0.22em}
    .sp1{width:120px}
    .sp2{width:140px}
    .sp5{width:160px}
  }
</style>
</head>
<body>

  <!-- Smoke background -->
  <div id="smoke-wrap" aria-hidden="true">
    <video id="smokeVideo" muted playsinline preload="auto" crossorigin="anonymous">
      <source src="Smoke.mp4" type="video/mp4">
    </video>
  </div>

  <!-- Center stage: white JOIN text on top of smoke -->
  <div class="centerStage" aria-hidden="true">
    <div id="joinText" aria-live="polite" role="status">J O I N&nbsp;&nbsp;T H E&nbsp;&nbsp;F I G H T</div>

    <!-- splatter pieces sit over the text (spray effect). we intentionally use the same blood pngs scaled and staggered -->
    <div class="splatLayer" id="splatLayer" aria-hidden="true">
      <img class="splat-piece sp1" id="sp1" src="blood.png" alt="">
      <img class="splat-piece sp2" id="sp2" src="blood1.png" alt="">
      <img class="splat-piece sp3" id="sp3" src="blood.png" alt="">
      <img class="splat-piece sp4" id="sp4" src="blood1.png" alt="">
      <img class="splat-piece sp5" id="sp5" src="blood.png" alt="">
      <img class="final-stain" id="finalStain" src="blood1.png" alt="">
    </div>
  </div>

  <!-- subtle red tint under visuals if needed -->
  <div id="glitchPaint" class="glitch-paint" aria-hidden="true"><div class="red-wash"></div></div>

  <!-- UI -->
  <div id="logo"><img src="Aggro-logo.PNG" alt="Aggro PvP Logo"></div>
  <div class="widget-bar" role="navigation" aria-label="Quick actions">
    <a class="cta primary" href="steam://connect/103.193.80.64:3436">Connect to Server</a>
    <a class="cta secondary" href="https://discord.gg/gSwkVzJyMT" target="_blank" rel="noopener">Join Community</a>
  </div>

<script>
(function(){
  const smoke = document.getElementById('smokeVideo');
  const joinText = document.getElementById('joinText');
  const sp1 = document.getElementById('sp1');
  const sp2 = document.getElementById('sp2');
  const sp3 = document.getElementById('sp3');
  const sp4 = document.getElementById('sp4');
  const sp5 = document.getElementById('sp5');
  const finalStain = document.getElementById('finalStain');
  const glitchPaint = document.getElementById('glitchPaint');

  // try autoplay and loop
  smoke.loop = true;
  smoke.play().catch(()=>{});

  // simple helper to show/hide the main text and staged splatter
  function showJoin() {
    // show text
    joinText.classList.add('visible');

    // reset pieces
    [sp1,sp2,sp3,sp4,sp5,finalStain].forEach(el=>{
      el.classList.remove('show');
      el.style.opacity = '';
    });

    // staggered spray timings (feel free to tweak)
    const sequence = [
      { el: sp3, delay: 120, scale: 0.9, rot: -8 },
      { el: sp1, delay: 260, scale: 1.0, rot: -16 },
      { el: sp2, delay: 360, scale: 0.96, rot: 6  },
      { el: sp4, delay: 480, scale: 1.02, rot: 12 },
      { el: sp5, delay: 640, scale: 1.06, rot: 0  },
      { el: finalStain, delay: 980, scale: 1.0, rot: 0 }
    ];

    // apply each piece with slight randomized rotation/scale to feel more like spray
    sequence.forEach(item=>{
      setTimeout(()=>{
        // small randomness for natural look
        const r = (Math.random()*8) - 4; // -4..4 deg
        const s = (item.scale || 1) * (0.96 + Math.random()*0.12);
        item.el.style.transform = `translate(-50%,-50%) scale(${s}) rotate(${(item.rot||0)+r}deg)`;
        item.el.classList.add('show');
      }, item.delay);
    });

    // final hide after surge duration
    const SURGE_MS = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--surge-ms')) || 2200;
    setTimeout(()=>{
      [sp1,sp2,sp3,sp4,sp5,finalStain].forEach((el,i)=>{
        setTimeout(()=> el.classList.remove('show'), i * 40);
      });
      joinText.classList.remove('visible');
    }, SURGE_MS + 520);
  }

  // expose manual trigger for convenience while testing
  window.showJoin = showJoin;

  // optional: run on a loop boundary of the smoke clip (if it loops cleanly)
  let prevTime = 0, loopCount = 0;
  smoke.addEventListener('timeupdate', ()=>{
    const t = smoke.currentTime || 0;
    if (prevTime - t > 0.28){
      loopCount++;
      if (loopCount >= 1){
        loopCount = 0;
        showJoin();
      }
    }
    prevTime = t;
  });

  // fallback: if metadata missing, run every 5s for testing
  smoke.addEventListener('loadedmetadata', ()=>{
    const dur = smoke.duration || 0;
    if (!isFinite(dur) || dur <= 0 || dur < 0.5){
      setInterval(()=> showJoin(), 5000);
    }
  });

  // init: quick test on page load for local preview (comment out if undesired)
  setTimeout(()=> showJoin(), 700);

  // resume playback on user interaction if autoplay blocked
  document.addEventListener('click', ()=>{ if (smoke.paused) smoke.play().catch(()=>{}); });

})();
</script>
</body>
</html>